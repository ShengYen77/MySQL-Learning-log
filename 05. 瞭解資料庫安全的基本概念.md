# ⭐ 資料庫安全(Database Security)

是指：**保護資料庫免於未經授權的存取、惡意攻擊、資料損毀或洩漏**，確保**機密性、完整性與可用性(CIA 原則)**。

# 🔐 資料庫安全的三大核心目標(CIA)

| 原則                   | 說明               |
| -------------------- | ---------------- |
| 機密性（Confidentiality） | 僅授權用戶才能存取資料      |
| 完整性（Integrity）       | 資料不能被未授權修改、偽造或毀損 |
| 可用性（Availability）    | 合法用戶在需要時能順利使用資料庫 |

# 資料庫常見安全威脅

| 威脅類型                | 說明與例子                           |
| ------------------- | ------------------------------- |
| **SQL Injection** | 駭客將惡意 SQL 指令嵌入輸入欄位，例如登入繞過密碼驗證   |
| 權限誤設          | 未授權用戶取得資料操作權限，如誤開讀寫權給一般使用者      |
| 資料外洩             | 備份檔、日誌被外洩，或資料以明碼儲存（如帳號密碼）       |
| DDoS 攻擊          | 惡意流量癱瘓資料庫服務，導致合法用戶無法存取          |
| 弱密碼 / 密碼重複       | 使用「123456」或多系統使用相同密碼，容易被暴力破解    |
| 社交工程         | 駭客誘導員工洩漏帳號、密碼或內部資訊，例如假冒 IT 支援人員 |

# 常見的資料庫安全措施與實踐

| 安全做法                | 說明                                            |
| ------------------- | --------------------------------------------- |
| 權限控管（DCL）        | 使用 `GRANT`、`REVOKE` 指令，只開放必要的資料庫操作權限          |
| 強化認證機制           | 強密碼規範、多因素驗證（MFA）                              |
| 資料加密             | 對敏感資料（如身分證字號、密碼）進行**靜態加密**（AES）或**傳輸加密**（SSL） |
| 活動日誌紀錄與稽核        | 記錄誰何時對哪些資料做了什麼，方便追蹤與調查                        |
| 防止 SQL Injection | 使用**預處理語句（prepared statements）**，避免拼接 SQL     |
| 備份與復原計畫          | 定期備份並測試還原流程，防止資料遺失                            |
| 監控與異常偵測系統        | 安裝監控工具偵測異常行為（如異常連線、資料量爆增）                     |

# SQL 中與安全相關的重要指令（DCL）

| 指令            | 功能說明      |
| ------------- | --------- |
| `GRANT`       | 賦予使用者操作權限 |
| `REVOKE`      | 撤回使用者權限   |
| `CREATE USER` | 建立使用者帳號   |
| `DROP USER`   | 刪除使用者帳號   |

```
-- 建立使用者
CREATE USER 'john'@'localhost' IDENTIFIED BY 'StrongPass123';

-- 賦予 SELECT 權限
GRANT SELECT ON company.* TO 'john'@'localhost';

-- 撤銷權限
REVOKE SELECT ON company.* FROM 'john'@'localhost';
```

筆記 : 

**如何防止 SQL Injection?**

可透過使用 **「預處理語句(prepared statements)」** 來防止 SQL 注入，這樣用戶輸入的資料不會被當作 SQL 指令的一部分執行，能有效阻止駭客惡意拼接語法。

**如何確保資料庫安全性?**

透過**權限控管、密碼加強政策、資料加密、活動監控與日誌稽核、定期備份測試**等方式，可以提升整體資料庫安全，防止內部疏忽與外部攻擊。

**資料庫備份策略是什麼?**

通常會採用 **「每日增量、每週完整、每月離線備份」** 的方式，並且儲存於不同實體設備或雲端，確保資料在災難發生時能快速還原。

